agent_id: dialogue-responder
type: conversational
version: "1.0.0"
status: draft
description: Handles multi-turn dialogue with farmers via voice/WhatsApp
input:
  event: conversation.message.received
  schema:
    required:
      - session_id
      - farmer_id
      - message
output:
  event: conversation.response.generated
  schema:
    fields:
      - session_id
      - response
      - intent
llm:
  model: anthropic/claude-3-5-sonnet
  temperature: 0.4
  max_tokens: 1000
rag:
  enabled: true
  knowledge_domains:
    - tea_cultivation
    - common_questions
    - farming_tips
  top_k: 5
  min_similarity: 0.7
state:
  max_turns: 5
  session_ttl_minutes: 30
  checkpoint_backend: mongodb
  context_window: 3
intent_model: anthropic/claude-3-haiku
response_model: anthropic/claude-3-5-sonnet
mcp_sources:
  - server: plantation
    tools:
      - get_farmer
metadata:
  author: test-user
